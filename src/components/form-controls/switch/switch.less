@import '../../../styles/celula';

.ce-switch {
  display: flex;
  flex-direction: column;

  input {
    // hide the built-in switch
    left: -9999px;
    position: absolute;

    + .ce-switch__slider {
      cursor: pointer;
      display: block;
      height: 3rem;
      position: relative;
      margin: 1.5rem 3rem;
      padding: 0.8rem 5rem;
      // DEFAULT CUSTOM SLIDER STYLING IS UNCHECKED
      // channel
      &::before {
        background-color: @before-background;
        border-radius: 0.75rem;
        box-sizing: border-box;
        content: '';
        height: 1.2rem;
        left: 0.75rem;
        margin: -1.8rem;
        position: absolute;
        top: 2.85rem;
        transition: 250ms ease-in-out;
        width: 4.1rem;
      }
      //dot
      &::after {
        flex: 1;
        background-color: @after-background;
        border: 1px solid @after-border;
        // box-shadow: -1px 0 #b2b2b2, 1px 0 #b2b2b2, 0 -1px #b2b2b2,
        //   0 1px #b2b2b2b2;
        border-radius: 50%;
        content: '';
        height: 1.8rem;
        left: -1rem;
        position: absolute;
        transition: 250ms ease-in-out;
        width: 1.8rem;
      }
      // STATE CHANGES SHOULD ONLY TOUCH THE AFTER IN BOTH CHECKED & UNCHECKED
      &:hover {
        &::after {
          box-shadow: -2px 0 2px 7px rgba(229, 229, 229, 0.3),
            2px 0 2px 7px rgba(229, 229, 229, 0.3),
            0 -2px 2px 7px rgba(229, 229, 229, 0.3),
            0 -2px 2px 7px rgba(229, 229, 229, 0.3);
        }
      }

      &:focus {
        // THE FOCUS IS NOT BEING TRIGGERED AT ALL!!!
        &::after {
          border: 1rem solid purple;
          // box-shadow: -2px 0 2px 7px rgba(204, 204, 204, 0.3),
          //   2px 0 2px 7px rgba(204, 204, 204, 0.3),
          //   0 -2px 2px 7px rgba(204, 204, 204, 0.3),
          //   0 -2px 2px 7px rgba(204, 204, 204, 0.3);
        }
      }
      &:active {
        &::after {
          // border: 10px solid green;
          box-shadow: -2px 0 2px 7px rgba(179, 179, 179, 0.3),
            2px 0 2px 7px rgba(179, 179, 179, 0.3),
            0 -2px 2px 7px rgba(179, 179, 179, 0.3),
            0 -2px 2px 7px rgba(179, 179, 179, 0.3);
        }
      }
    }

    // switch checked and state changes
    &:checked + .ce-switch__slider {
      &::before {
        box-shadow: 0 0 0 0 @checked-before inset, 0 0 0 0 @checked-before,
          // the chosen blue 30% darker than Dodger Blue
            4.1rem 0 0 0 @checked-before inset;
      }
      &::after {
        background-color: @checked-after-background;
        border: 0.1rem solid @checked-after-background;
        left: 1.5rem;
      }

      &:hover {
        &::after {
          // border: 10px solid #e6f7ff;
          // border: 10px solid rgba(230, 247, 255, 0.5);
          box-shadow: -2px 0 2px 7px rgba(230, 247, 255, 0.9),
            2px 0 2px 7px rgba(230, 247, 255, 0.9),
            0 -2px 2px 7px rgba(230, 247, 255, 0.9),
            0 -2px 2px 7px rgba(230, 247, 255, 0.9);
        }
      }
      &:focus {
        &::after {
          box-shadow: -2px 0 2px 7px rgba(230, 247, 255, 0.9),
            2px 0 2px 7px rgba(230, 247, 255, 0.9),
            0 -2px 2px 7px rgba(230, 247, 255, 0.9),
            0 -2px 2px 7px rgba(230, 247, 255, 0.9);
          // border: 10px solid #ccefff;
        }
      }
      &::active {
        &::after {
          box-shadow: -2px 0 2px 7px rgba(178, 231, 255, 0.9),
            2px 0 2px 7px rgba(178, 231, 255, 0.9),
            0 -2px 2px 7px rgba(178, 231, 255, 0.9),
            0 -2px 2px 7px rgba(178, 231, 255, 0.9);
          // border: 10px solid #b2e7ff;
        }
      }
    }
  }

  &.ce-switch--disabled {
    pointer-events: none;

    .ce-switch__slider {
      &::before {
        background-color: @disabled-unchecked-before;
      }
      &::after {
        background-color: @disabled-unchecked-after-background;
        border: 0.1rem solid @disabled-unchecked-after-border;
        @media screen {
          @media (max-width: 768px) {
            margin-top: -1.7rem;
          }
        }
      }
    }

    input:checked + .ce-switch__slider::before {
      background-color: @disabled-checked-before;
      box-shadow: none;
    }
    input:checked + .ce-switch__slider::after {
      background-color: @disabled-checked-after;
      border: 0.1rem solid @disabled-checked-after;
      @media screen {
        @media (max-width: 768px) {
          margin-top: -1.7rem;
        }
      }
    }
  }

  &.ce-switch--error {
    color: @checked-red;
    input {
      + .ce-switch__slider {
        &::before {
          background-color: @error-red;
          box-shadow: none;
        }
        &::after {
          border: 0.1rem solid @error-border;
          background-color: @white;
          @media screen {
            @media (max-width: 768px) {
              margin-top: -1.7rem;
            }
          }
        }

        &:hover {
          &::after {
            box-shadow: -2px 0 2px 7px rgba(255, 229, 237, 0.9),
              2px 0 2px 7px rgba(255, 229, 237, 0.9),
              0 -2px 2px 7px rgba(255, 229, 237, 0.9),
              0 -2px 2px 7px rgba(255, 229, 237, 0.9);
          }
        }
        &:focus {
          &::after {
            box-shadow: -2px 0 2px 7px rgba(255, 204, 220, 0.9),
              2px 0 2px 7px rgba(255, 204, 220, 0.9),
              0 -2px 2px 7px rgba(255, 204, 220, 0.9),
              0 -2px 2px 7px rgba(255, 204, 220, 0.9);
          }
        }
        &:active {
          &::after {
            box-shadow: -2px 0 2px 7px rgba(255, 179, 204, 0.9),
              2px 0 2px 7px rgba(255, 179, 204, 0.9),
              0 -2px 2px 7px rgba(255, 179, 204, 0.9),
              0 -2px 2px 7px rgba(255, 179, 204, 0.9);
          }
        }

        &:checked + .ce-switch__slider {
          &::before {
            // background-color: #cc0043;
            box-shadow: none;
          }
          &::after {
            border: 0.1rem solid @error-border;
            background-color: @white;
            box-shadow: -2px 0 2px 7px rgba(255, 229, 237, 0.9),
              2px 0 2px 7px rgba(255, 229, 237, 0.9),
              0 -2px 2px 7px rgba(255, 229, 237, 0.9),
              0 -2px 2px 7px rgba(255, 229, 237, 0.9);
          }
          &:hover {
            &::after {
              box-shadow: -2px 0 2px 7px rgba(255, 229, 237, 0.9),
                2px 0 2px 7px rgba(255, 229, 237, 0.9),
                0 -2px 2px 7px rgba(255, 229, 237, 0.9),
                0 -2px 2px 7px rgba(255, 229, 237, 0.9);
            }
          }
          &:focus {
            &::after {
              box-shadow: -2px 0 2px 7px rgba(255, 204, 220, 0.9),
                2px 0 2px 7px rgba(255, 204, 220, 0.9),
                0 -2px 2px 7px rgba(255, 204, 220, 0.9),
                0 -2px 2px 7px rgba(255, 204, 220, 0.9);
            }
          }
          &:active {
            &::after {
              box-shadow: -2px 0 2px 7px rgba(255, 179, 204, 0.9),
                2px 0 2px 7px rgba(255, 179, 204, 0.9),
                0 -2px 2px 7px rgba(255, 179, 204, 0.9),
                0 -2px 2px 7px rgba(255, 179, 204, 0.9);
            }
          }
        }
      }
    }
    .ce-errorbox {
      margin-left: 2.75rem;
      max-width: calc(100% - 2.75rem);
    }
  }
}
