import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from '@storybook/addon-docs/blocks';

import Modal from './SomethingToModal';
import { ModalDocs } from './Modal';
import Button from '../button';
import Container from '../container';
import { SystemIcon } from '../icon';

<Meta
  args={{
    children: 'Bacon ipsum dolor amet consectetur landjaeger proident jerky qui nisi.',
    title: 'Example Modal',
    triggerLabel: 'Click Me!',
  }}
  component={ ModalDocs }
  title="Components/Atoms/Modal"
/>

# Modal
<Description of={ ModalDocs } />

<Canvas>
  <Story name="Modal with Controls">
    {args => <Modal {...args} />}
  </Story>
</Canvas>

<ArgsTable story="Modal with Controls" />

The `Modal` export is different from the rest of the components in Celula. Rather than just being a
component that is exported;
```js
import { Button } from '@talloinc/celula';
```

It is a function that returns the `Modal` component;
```jsx
import React from 'react';
import { Modal as ModalFn } from '@talloinc/celula';

const Modal = ModalFn('#app-root');

const MyComponent = () => (
  <Modal {/* modal props go here */}>
    {/* modal contents go here */}
  </Modal>
);

export default MyComponent;
```

We do this for the overall accessibility of the `Modal`. We (react-modal) has to know what DOM
element is the root of your app, to make sure focus is returned appropriately, etc. Since Celula is
made to be used by a consuming app, we don't know the app root. So we export a function that
returns the `Modal` component aware of the consuming app's root element.

The function takes the id of a DOM element, and returns the `Modal`, aware of where your app's root
is.

## Modal Options
A `Modal` *must* have a `title`, and `children`. It also has several optional props. `size`,
`className`, as well as a series of options for the action button in the `Modal`.

**Note**: The `Modal` will not appear inline. They are shown this way for documentation only.

### Sizes

<Canvas>
  <Story name="Small Modal">
    <Modal
      actionSize="small"
      size="small"
      title="Small"
      triggerLabel="Small Modal"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--small" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Small</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="small">
          Small
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

<Canvas>
  <Story name="Default Modal">
    <Modal
      size="default"
      title="Default Modal"
      triggerLabel="Default Modal"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--default" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Default Modal</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="small">
          Default Modal
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

<Canvas>
  <Story name="Large Modal">
    <Modal
      size="large"
      title="Large Modal"
      triggerLabel="Large Modal"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--large" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Large Modal</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="small">
          Large Modal
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

<Canvas>
  <Story name="Jumbo Modal">
    <Modal
      size="jumbo"
      title="Jumbo Modal"
      triggerLabel="Jumbo Modal"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--jumbo" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Jumbo Modal</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="small">
          Jumbo Modal
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

### Action Button Options
A `Modal` takes a function (`actionFn`) that is trigged by the included `<Button />`. If you do not
supply a function, the button will simply close the `Modal`. A `Modal` also takes a label
(`actionLabel`) and size (`actionSize`) for the action trigger. If you do not supply a label, the
action trigger will be labeled 'Close'.

<Canvas>
  <Story name="Small Action">
    <Modal
      actionSize="small"
      title="Small Action"
      triggerLabel="Small Action"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--default" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Default Modal</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="small">
          Small Action
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

<Canvas>
  <Story name="Large Action">
    <Modal
      actionSize="large"
      title="Large Action"
      triggerLabel="Large Action"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--default" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Default Modal</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="large">
          Large Action
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

<Canvas>
  <Story name="Jumbo Action">
    <Modal
      actionSize="jumbo"
      title="Jumbo Action"
      triggerLabel="Jumbo Action"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <div className="ce-modal ce-modal--default" style={{
    left: 'unset',
    position: 'relative',
    top: 'unset',
    transform: 'unset',
    zIndex: 'unset',
  }}>
    <button
      className="ce-modal__close"
      onClick={() => {}}
      type="button"
      aria-label="Close"
      style={{zIndex: 'unset'}}
    >
      <SystemIcon color="black" name="close" size="jumbo" />
    </button>
    <Container className="ce-modal__container" gap="padding">
      <h4 className="ce-modal__header">Default Modal</h4>
      <div className="ce-modal__body">
        <p>Modal Contents</p>
      </div>
      <div className="ce-modal__footer">
        <Button handleClick={() => {}} size="jumbo">
          Jumbo Action
        </Button>
        <Button
          className="ce-modal__cancel"
          color="secondary"
          handleClick={() => {}}
          size="small"
          type="text"
        >
          Cancel
        </Button>
      </div>
    </Container>
  </div>
</Canvas>

## Trigger Options
The `Modal` trigger is just a `Button`, and has all the same options as one.

### Types

<Canvas>
  <Story name="Solid Trigger">
    <Modal
      title="Solid Trigger"
      triggerLabel="Solid Trigger"
      triggerType="solid"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name="Outline Trigger">
    <Modal
      title="Outline Trigger"
      triggerLabel="Outline Trigger"
      triggerType="outline"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name="Text Trigger">
    <Modal
      title="Text Trigger"
      triggerLabel="Text Trigger"
      triggerType="text"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
</Canvas>

### Sizes

<Canvas>
  <Story name="Small Trigger">
    <Modal
      title="Small Trigger"
      triggerLabel="Small Trigger"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name=" Large Trigger">
    <Modal
      title="Large Trigger"
      triggerLabel="Large Trigger"
      triggerSize="large"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name="Jumbo Trigger">
    <Modal
      title="Jumbo Trigger"
      triggerLabel="Jumbo Trigger"
      triggerSize="jumbo"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
</Canvas>

### Colors and States

<Canvas>
  <Story name="Primary Trigger">
    <Modal
      title="Primary Trigger"
      triggerColor="primary"
      triggerLabel="Primary"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name="Secondary Trigger">
    <Modal
      title="Secondary Trigger"
      triggerColor="secondary"
      triggerLabel="Secondary"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name="Black Trigger">
    <Modal
      title="Black Trigger"
      triggerColor="black"
      triggerLabel="Black"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
  <Story name="Inverted Trigger">
    <div style={{ backgroundColor: 'black', display: 'inline-block' }}>
      <Modal
        title="Inverted Trigger"
        triggerColor="inverted"
        triggerLabel="Inverted"
        triggerSize="small"
      >
        <p>Modal Contents</p>
      </Modal>
    </div>
  </Story>
  <Story name="Disabled Trigger">
    <Modal
      disabled
      title="Disabled Trigger"
      triggerLabel="Disabled"
      triggerSize="small"
    >
      <p>Modal Contents</p>
    </Modal>
  </Story>
</Canvas>
